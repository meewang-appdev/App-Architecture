<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>아키텍처 패턴 비교 분석</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <!-- 헤더 -->
        <header class="text-center mb-10">
            <h1 class="text-4xl font-bold text-gray-900">아키텍처 패턴 비교 분석</h1>
            <p class="mt-4 text-lg text-gray-600">
                UI와 비즈니스 로직을 분리하여 코드의 안정성과 유지보수성을 높이는 것을 목표로 하는<br>
                주요 아키텍처 패턴들의 특징과 구조를 비교합니다.
            </p>
        </header>

        <!-- 주요 아키텍처 특징 비교표 -->
        <section class="mb-12">
            <h2 class="text-2xl font-semibold text-gray-900 mb-6 pb-2 border-b-2 border-indigo-500">주요 아키텍처 특징 비교표</h2>
            <div class="overflow-x-auto bg-white rounded-lg shadow-md">
                <table class="w-full text-sm text-left text-gray-600">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-100">
                        <tr>
                            <th scope="col" class="px-6 py-3">항목</th>
                            <th scope="col" class="px-6 py-3">클린 아키텍처</th>
                            <th scope="col" class="px-6 py-3">유저케이스 (Service 계층)</th>
                            <th scope="col" class="px-6 py-3">레파지토리 / MVVM</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="bg-white border-b">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">주요 흐름</th>
                            <td class="px-6 py-4">ViewModel → <b>UseCase</b> → Repository(I)</td>
                            <td class="px-6 py-4">ViewModel → <b>Service</b> → Repository</td>
                            <td class="px-6 py-4">ViewModel → <b>Repository</b></td>
                        </tr>
                        <tr class="bg-gray-50 border-b">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">비즈니스 로직 위치</th>
                            <td class="px-6 py-4"><b>`UseCase`</b></td>
                            <td class="px-6 py-4"><b>`Service`</b></td>
                            <td class="px-6 py-4"><b>`Repository`</b></td>
                        </tr>
                        <tr class="bg-white border-b">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">Repository의 역할</th>
                            <td class="px-6 py-4">데이터 접근 규칙 정의 (인터페이스)</td>
                            <td class="px-6 py-4">데이터 접근 규칙 정의</td>
                            <td class="px-6 py-4">데이터 접근 + <b>비즈니스 로직 처리</b></td>
                        </tr>
                        <tr class="bg-gray-50 border-b">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">장점</th>
                            <td class="px-6 py-4">- <b>가장 엄격한 책임 분리</b><br>- 최고의 테스트 용이성<br>- 최고의 확장성</td>
                            <td class="px-6 py-4">- 클린 아키텍처와 거의 동일<br>- `Service`라는 이름이 더 직관적일 수 있음</td>
                            <td class="px-6 py-4">- <b>가장 단순한 구조</b><br>- 보일러플레이트 코드 최소화<br>- 빠른 개발 속도</td>
                        </tr>
                        <tr class="bg-white border-b">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">단점</th>
                            <td class="px-6 py-4">- 계층이 많아 초기 설정이 복잡함<br>- 보일러플레이트 코드 발생</td>
                            <td class="px-6 py-4">- 클린 아키텍처와 동일한 단점</td>
                            <td class="px-6 py-4">- <b>Repository가 비대해질 수 있음</b><br>- 비즈니스 로직 재사용성 감소<br>- 테스트가 상대적으로 복잡해짐</td>
                        </tr>
                        <tr class="bg-gray-50">
                            <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap">추천 상황</th>
                            <td class="px-6 py-4"><b>대규모, 장기 유지보수 프로젝트</b></td>
                            <td class="px-6 py-4">클린 아키텍처와 동일</td>
                            <td class="px-6 py-4"><b>소규모, CRUD 위주의 프로젝트</b></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 아키텍처 구조도 -->
        <section>
            <h2 class="text-2xl font-semibold text-gray-900 mb-6 pb-2 border-b-2 border-indigo-500">아키텍처 구조도</h2>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                
                <!-- 클린 아키텍처 / 유저케이스 -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-medium text-center text-gray-900 mb-4">1. 클린 아키텍처 / 유저케이스 구조도</h3>
                    <pre class="mermaid text-center">
                        graph TD
                            subgraph "Presentation Layer"
                                A[View: MainActivity] -- "사용자 이벤트 전달" --> B(ViewModel: UserViewModel);
                            end

                            subgraph "Domain Layer"
                                B -- "실행 요청" --> C("UseCase / Service\n(비즈니스 로직)");
                                C -- "데이터 요청" --> D[Repository Interface];
                            end

                            subgraph "Data Layer"
                                E[Repository Implementation] -.->|구현| D;
                                E -- "데이터 가져옴" --> F((DataSource: ApiService));
                            end

                            style A fill:#7e57c2,stroke:#d1c4e9,stroke-width:2px,color:#ffffff
                            style B fill:#5c6bc0,stroke:#c5cae9,stroke-width:2px,color:#ffffff
                            style C fill:#43a047,stroke:#c8e6c9,stroke-width:2px,color:#ffffff
                            style D fill:#039be5,stroke:#b3e5fc,stroke-width:2px,color:#ffffff
                            style E fill:#d81b60,stroke:#f8bbd0,stroke-width:2px,color:#ffffff
                            style F fill:#e53935,stroke:#ffcdd2,stroke-width:2px,color:#ffffff
                    </pre>
                </div>

                <!-- 레파지토리 / 표준 MVVM -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h3 class="text-xl font-medium text-center text-gray-900 mb-4">2. 레파지토리 / 표준 MVVM 구조도</h3>
                    <pre class="mermaid text-center">
                        graph TD
                            subgraph "Presentation Layer (View & ViewModel)"
                                A[View: MainActivity] -- "사용자 이벤트 전달" --> B(ViewModel: UserViewModel);
                            end

                            subgraph "Model Layer (Repository & Data Source)"
                                B -- "데이터/로직 요청" --> C("Repository\n(데이터 로직 + 비즈니스 로직)");
                                C -- "데이터 가져옴" --> D((DataSource: ApiService));
                            end

                            style A fill:#7e57c2,stroke:#d1c4e9,stroke-width:2px,color:#ffffff
                            style B fill:#5c6bc0,stroke:#c5cae9,stroke-width:2px,color:#ffffff
                            style C fill:#d81b60,stroke:#f8bbd0,stroke-width:2px,color:#ffffff
                            style D fill:#e53935,stroke:#ffcdd2,stroke-width:2px,color:#ffffff
                    </pre>
                </div>

            </div>
        </section>

    </div>

    <script>
        mermaid.initialize({ startOnLoad: true, theme: 'base', themeVariables: {
            'primaryColor': '#ffffff',
            'primaryTextColor': '#333',
            'primaryBorderColor': '#e0e0e0',
            'lineColor': '#666',
            'textColor': '#333',
            'fontSize': '14px'
        }});
    </script>
</body>
</html>
